{"version":3,"file":"plugin.esm.js","sources":["../src/plugin.ts"],"sourcesContent":["import {\n  createApiFactory,\n  createPlugin,\n  createRouteRef,\n  discoveryApiRef,\n  identityApiRef\n} from '@backstage/core-plugin-api';\nimport { RootlyApi } from '@rootly/backstage-plugin-common';\nimport { RootlyApiRef } from './api';\n\nexport const RootlyRouteRef = createRouteRef({\n  id: 'Rootly',\n});\n\nexport const RootlyPlugin = createPlugin({\n  id: 'Rootly',\n  apis: [\n    createApiFactory({\n      api: RootlyApiRef,\n      deps: { discoveryApi: discoveryApiRef, identityApi: identityApiRef },\n      factory: ({ discoveryApi, identityApi }) => {\n        return new RootlyApi({\n          apiProxyPath: discoveryApi.getBaseUrl('proxy'),\n          apiToken: identityApi.getCredentials()\n        });\n      },\n    }),\n  ],\n  routes: {\n    explore: RootlyRouteRef,\n  },\n});\n"],"names":[],"mappings":";;;;AAUO,MAAM,iBAAiB,cAAe,CAAA;AAAA,EAC3C,EAAI,EAAA,QAAA;AACN,CAAC,EAAA;AAEM,MAAM,eAAe,YAAa,CAAA;AAAA,EACvC,EAAI,EAAA,QAAA;AAAA,EACJ,IAAM,EAAA;AAAA,IACJ,gBAAiB,CAAA;AAAA,MACf,GAAK,EAAA,YAAA;AAAA,MACL,IAAM,EAAA,EAAE,YAAc,EAAA,eAAA,EAAiB,aAAa,cAAe,EAAA;AAAA,MACnE,OAAS,EAAA,CAAC,EAAE,YAAA,EAAc,aAAkB,KAAA;AAC1C,QAAA,OAAO,IAAI,SAAU,CAAA;AAAA,UACnB,YAAA,EAAc,YAAa,CAAA,UAAA,CAAW,OAAO,CAAA;AAAA,UAC7C,QAAA,EAAU,YAAY,cAAe,EAAA;AAAA,SACtC,CAAA,CAAA;AAAA,OACH;AAAA,KACD,CAAA;AAAA,GACH;AAAA,EACA,MAAQ,EAAA;AAAA,IACN,OAAS,EAAA,cAAA;AAAA,GACX;AACF,CAAC;;;;"}